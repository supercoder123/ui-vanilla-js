import"./style-fac82e35.js";class o{constructor(e,{numberOfStars:t,onChange:a}){this.onChange=a,this.container=document.getElementById(e),this.template=document.getElementById("star-template"),this.rating=0;const s=document.createDocumentFragment();if(t>0)for(let n=0;n<t;n++){const r=this.template.content.cloneNode(!0);r.firstElementChild.dataset.count=n+1,r.firstElementChild.addEventListener("mouseover",this.highlightStars.bind(this)),s.appendChild(r)}this.container.appendChild(s),this.container.addEventListener("mouseleave",this.resetStars.bind(this)),this.container.addEventListener("click",this.setRating.bind(this))}setRating(e){if(e.target!==e.currentTarget){const t=parseInt(e.target.dataset.count);this.rating=t,this.onChange(this.rating)}}highlightStars(e){const t=parseInt(e.target.dataset.count);this.container.querySelectorAll(".star").forEach((s,n)=>{n+1<=t?s.classList.add("active"):s.classList.remove("active")})}resetStars(){this.container.querySelectorAll(".star").forEach((t,a)=>{a+1<=this.rating?t.classList.add("active"):t.classList.remove("active")})}get ratingValue(){return this.rating}}new o("app",{numberOfStars:15,onChange:i=>{console.log(i),document.getElementById("rating").innerText=`You have received ${i} stars`}});
